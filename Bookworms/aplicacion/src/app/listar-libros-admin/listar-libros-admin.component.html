<div class="container" style="padding-bottom: 20px">
  <button class="btn btn-default principal" [routerLink]="['/administrador/crearLibro']">Crear Libro</button>
  <button class="btn btn-default principal" [routerLink]="['/administrador']">Listar Libros</button>
</div>

<div class="container " style="border-top: double #000000">
  <h2>{{subtitle}}</h2>
  <p>{{description}}</p>

  <div class="row"  style="border-top: double #000000">
    <div class="col-sm-12" *ngFor="let libro of libros">
      <br>
      <div class="col-sm-5">
        <h3>{{libro.nombreLibro}}</h3>
        <img [src]="libro.imagenLibro" alt="libro" height="250" style="padding-left: 30px">
      </div>
      <div class="col-sm-7" style="padding-top: 100px">
        <p style="text-decoration-style: double">Autor: {{libro.autorLibro}}</p>
        <p>Número de Páginas: {{libro.numeroPaginas}}</p>
        <p>Precio:{{libro.precioLibro}}</p>
        <p>Categoría: {{libro.categoriaLibro}}</p>
        <a [routerLink]="[libro.id,'entradas']">Ir a Reseñas</a><br>
        <a [routerLink]="[libro.id,'compradores']">Listar Compradores</a>
        <br><br>
      </div>
      <br><br>
      <div class="row">
          <button style="align-content: flex-end" class="btn btn-info" (click)="libro.formularioCerrado=!libro.formularioCerrado">
            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
          </button>

          <button class="btn btn-danger" (click)="borrarLibro(libro.id)">
            <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
          </button>
        </div>

      <div class="div" [hidden]="libro.formularioCerrado">
        <form action="">
          <form (ngSubmit)="actualizarLibro(libro)" #NuevoLibroForm="ngForm">
            <div class="form-group">

              <div class="form-group" style="padding-top: 40px">

                <label>Nombre del Libro</label>
                <input required type="text" class="form-control" placeholder="Ingrese nombre del libro"
                       name="nombreLibro" [(ngModel)]="libro.nombreLibro" #nombreMateria="ngModel" #nombreElm>
              </div>
              <div class="form-group">
                <label>Autor</label>
                <input required type="text" class="form-control" placeholder="Ingrese el autor del libro"
                       name="autorLibro" [(ngModel)]="libro.autorLibro" #topicoMateria="ngModel" #nombreElm>
              </div>
              <div class="form-group">
                <label>Número de Páginas</label>
                <input required type="number" class="form-control" placeholder="Ingrese numero de paginas" name="numeroPaginas"
                       [(ngModel)]="libro.numeroPaginas" #fechaCreacion="ngModel" #nombreElm>
              </div>
              <div class="form-group">
                <label>Precio</label>
                <input required type="number" class="form-control" placeholder="Ingrese precio" name="precioLibro"
                       [(ngModel)]="libro.precioLibro" #precioLibro="ngModel" #nombreElm>
              </div>

              <div class="form-group">
                <label>Tipo de Lectura</label>
                <select required type="text" class="form-control" placeholder="Seleccione" name="categoriaLibro"
                        [(ngModel)]="libro.categoriaLibro" #fechaCreacion="ngModel" #nombreElm  ng-options="">
                  <option value="Biografia">Biografía</option>
                  <option value="Clasica">Clásico</option>
                  <option value="Aventuras">Aventuras</option>
                  <option value="Ciencia Ficcion / Fantasia">Ciencia Ficción / Fantasía</option>
                  <option value="Romantica">Romántica</option>
                  <option value="Misterio / Suspenso">Misterio / Suspenso</option>
                </select>
              </div>
              <div class="form-group">
                <label>Imagen del Libro</label>
                <input required type="text" class="form-control" placeholder="Ingrese la url del libro" name="imagenLibro"
                       [(ngModel)]="libro.imagenLibro" #imagenLibro="ngModel" #nombreElm>
              </div>
              <div class="form-group">
                <label>Sinopsis del Libro</label>
                <textarea required type="text" class="form-control" placeholder="Ingrese la sinopsis del libro" name="sinopsisLibro"
                          [(ngModel)]="libro.sinopsisLibro" #sinopsisLibro="ngModel" #nombreElm rows="10"></textarea>
              </div>

              <div class="col-sm-7">
                <button [disabled]="disabledButtons.NuevoLibroFormSubmitButton||!NuevoLibroForm.valid" type="submit"
                        class="btn btn-success">Actualizar Datos
                </button>
                <button type="button" class="btn btn-warning" (click)="libro.formularioCerrado=!libro.formularioCerrado">
                  Cancelar
                </button>
              </div>
            </div>
          </form>
        </form>

      </div>
    </div>
  </div>
  <br><br>
</div>
